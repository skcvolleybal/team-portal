<p>Welkom <span *ngIf="user">{{user.voornaam}}</span>! Hier zie je welke dagen je zaalwacht hebt, wanneer je wedstrijden zijn, wanneer je moet tellen, of je bardiensten hebt en wanneer je moet scheidsen.</p>

<!-- <div *ngIf="dagenEmpty; then showInfo else showMijnOverzicht"></div> -->

<ng-template #showInfo>
<br>
<p><em>Je hebt geen aankomende wedstrijden of diensten.</em></p>
<br>
</ng-template>

<div class="container-fluid">
  <div class="row">
    <div class="col-md-8">

      <h5>Mijn wedstrijden</h5>

      <div *ngFor="let dag of dagen">
              <b>{{ dag.datum_long }} </b>
            <p *ngIf="dag.eersteZaalwacht == user.team.naam">
        
                  <span *ngIf="dag.eersteZaalwacht" class="badge rounded-pill bg-primary" style="padding: 10px;margin-top: auto;margin-bottom: auto;"><fa-icon [icon]="zaalwacht"></fa-icon> 1e zaalwacht: {{ dag.eersteZaalwacht }}</span>
      
             </p>
      
            <div *ngIf="dag.bardiensten.length > 0">
              <div class="gray-background" *ngFor="let bardienst of dag.bardiensten">
                <div></div>
                <div>
                  <span class="badge rounded-pill bg-primary" style="padding: 10px;margin-top: auto;margin-bottom: auto;">
                    <fa-icon [icon]="taskIcon"></fa-icon> Bardienst Shift {{ bardienst.shift }}
                    {{ bardienst.isBhv ? " (BHV)" : "" }}</span
                  >
      
                </div>
              </div>
            </div>
            <div *ngFor="let speeltijd of dag.speeltijden">
              <div *ngFor="let wedstrijd of speeltijd.wedstrijden">
                <div>
                  <div style="display: flex;">
                    <div style="margin-top: auto;margin-bottom: auto; width: 45px;">
                      {{ speeltijd.tijd }}
                    </div>
                    <div style="margin-top: auto;margin-bottom: auto;">
                       <teamportal-wedstrijd [wedstrijd]="wedstrijd"></teamportal-wedstrijd>
                    </div>
                    <span *ngIf="wedstrijd.scheidsrechter == user.naam" class="badge rounded-pill bg-primary" style="padding: 10px;margin-top: auto;margin-bottom: auto;"><fa-icon [icon]="taskIcon"></fa-icon> Je bent scheidsrechter deze wedstrijd</span>
                     <span *ngIf="wedstrijd.tellers[0] == user.naam || wedstrijd.tellers[1] == user.naam" class="badge rounded-pill bg-primary" style="padding: 10px;margin-top: auto;margin-bottom: auto;"><fa-icon [icon]="taskIcon"></fa-icon> Je bent teller deze wedstrijd</span>
                     
                    <div style="padding: 10px;margin-top: auto;margin-bottom: auto;" *ngIf="wedstrijd.isTellers"> 
                      <teamportal-tellers
                        [tellers]="wedstrijd.tellers"
                        [isTellers]="wedstrijd.isTellers"
                      >
                      </teamportal-tellers>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div *ngIf="dag.tweedeZaalwacht == user.team.naam">
              <div class="gray-background">
                <div></div>
                <div>
                  <span *ngIf="dag.tweedeZaalwacht" class="badge rounded-pill bg-primary" style="padding: 10px;margin-top: auto;margin-bottom: auto;"><fa-icon [icon]="zaalwacht"></fa-icon> 2e zaalwacht: {{ dag.tweedeZaalwacht }}</span>
                </div>
              </div>
            </div>
      
       
    </div>
    </div>
    <div class="col-md-4">

      <h5>Mijn teamtaken</h5>
      <ul>
        <li *ngFor="let teamtaak of teamtaken" [ngClass]="{'past-task': isPast(teamtaak.date)}">
          {{ teamtaak.type }}. <span>{{ formatDate(teamtaak.date) }}</span>
          <span *ngIf="!isPast(teamtaak.date)" class="badge rounded-pill bg-primary" style="padding: 5px; margin-top: auto; margin-bottom: auto;">Aankomend</span>
        </li>
      </ul>


    </div>
  </div>
</div>


<br>

  <div class="alert alert-danger" role="alert" *ngIf="errorMessage">
    {{ errorMessage }}
  </div>
  <teamportal-spinner *ngIf="loading"></teamportal-spinner>
